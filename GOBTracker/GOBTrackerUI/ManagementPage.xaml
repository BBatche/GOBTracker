<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="GOBTrackerUI.ManagementPage"
             Title="ManagementPage">

    <StackLayout Padding="20">

        <!-- Header -->
        <Label Text="Players" FontSize="Large" HorizontalOptions="Center" Margin="0,20,0,10" />

        <!-- Team Picker -->
        <Picker x:Name="teamPicker"
                Title="Select Team"
                ItemsSource="{Binding TeamName}"
                SelectedIndexChanged="TeamPicker_SelectedIndexChanged">
            

        </Picker>

        <ListView x:Name="teamlistview" ItemSelected="TeamPicker_SelectedIndexChanged">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <ViewCell>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150" />
                                
                            </Grid.ColumnDefinitions>

                            <!-- First Name -->
                            <Frame Grid.Column="0"
                                       BorderColor="Black"
                                       CornerRadius="0"
                                       HasShadow="false"
                                       Padding="5">
                                <Label Text="{Binding TeamName}" FontSize="Subtitle" />
                            </Frame>
                            
                        </Grid>
                    </ViewCell>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <!-- Player List -->
        <CollectionView x:Name="playerCollectionView"
                        SelectionMode="Single"
                        ItemSizingStrategy="MeasureAllItems"
                        ItemsSource="{Binding Players}">
            <!--SelectionChanged="PlayerCollectionView_SelectionChanged">-->

            <!-- Define ItemTemplate -->
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <StackLayout Padding="10" BackgroundColor="{Binding IsActive, Converter={StaticResource IsActiveToColorConverter}}">
                        <Label Text="{Binding Name}" FontSize="Medium"/>
                        <!-- Add more player details as needed -->
                    </StackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>

        <!-- CRUD Operations Buttons -->
        <StackLayout Orientation="Horizontal" HorizontalOptions="CenterAndExpand" Spacing="20" Margin="0,20,0,0">
            <Button Text="Add Player" Clicked="AddPlayer_Clicked" />
            <Button Text="Edit Player" Clicked="EditPlayer_Clicked" IsEnabled="{Binding IsPlayerSelected}" />
            <Button Text="Delete Player" Clicked="DeletePlayer_Clicked" IsEnabled="{Binding IsPlayerSelected}" />
        </StackLayout>

    </StackLayout>

</ContentPage>
